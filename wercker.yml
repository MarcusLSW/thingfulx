box: wercker/golang
# Build definition
build:
    # The steps that will be executed on build
    steps:
        - setup-go-workspace

        - script:
            name: setup
            code: |
              make setup

        - script:
            name: restore
            code: |
              go version
              make restore

        - script:
            name: test
            code: |
              make full ARTEFACT_DIR=$WERCKER_REPORT_ARTIFACTS_DIR

        - script:
            name: lint
            code: |
              make lint
